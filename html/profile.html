<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Glowered Store - Meu Perfil">
    <meta name="keywords" content="perfil, conta, usu√°rio, glowered">
    <meta name="author" content="Glowered Store">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="shortcut icon" href="https://i.ibb.co/Kcjh5G8b/logo-No-Background.png" type="image/x-icon">
    <script src="../js/auth.js" defer></script>
    <script src="../js/perfil.js" defer></script>
    <title>Glowered Store - Meu Perfil</title>
</head>

<body>
    <header>
        <nav aria-label="Navega√ß√£o principal">
            <div class="nav-container">
                <!-- Logo e T√≠tulo √† esquerda -->
                <div id="imgTitle" role="banner">
                    <a href="../index.html">
                        <img src="https://i.ibb.co/Kcjh5G8b/logo-No-Background.png" alt="Glowered Store Logo" width="50" height="50">
                    </a>
                    <h1><span class="brand-green" href="../index.html">Glowered</span> <span class="brand-purple">Store</span></h1>
                </div>
                
                <!-- Nome da p√°gina no centro -->
                <div class="search-container" style="justify-content: center;">
                    <h2 style="color: var(--accent3); margin: 0;">MEU PERFIL</h2>
                </div>

                <!-- A√ß√µes do usu√°rio √† direita -->
                <div class="header-actions">
                    <button id="cart-btn" aria-label="Carrinho de compras">
                        <span id="cart-count" aria-live="polite">0</span>
                        <img src="https://img.icons8.com/fluency/96/000000/shopping-cart.png" alt="Carrinho">
                    </button>
                    
                    <button id="logoutButton" aria-label="Sair da conta" style="background: none; border: 2px solid var(--accent1); padding: 0.5rem; border-radius: var(--radius); cursor: pointer; transition: all 0.3s ease;">
                        <img src="https://img.icons8.com/fluency/96/exit.png" alt="Sair" style="width: 20px; height: 20px; filter: invert();">
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero" aria-labelledby="profile-title">
            <div class="hero-content">
                <h2 id="profile-title">MEU <span class="brand-purple">PERFIL</span></h2>
                <p class="hero-subtitle">Gerencie suas informa√ß√µes e prefer√™ncias</p>
            </div>
        </section>

        <!-- Loading State -->
        <div id="loading" style="text-align: center; padding: 2rem;">
            <p style="color: var(--accent3); font-family: 'Share Tech Mono', monospace;">
                üåÄ CARREGANDO DADOS...
            </p>
        </div>

        <!-- Error State -->
        <div id="error" style="display: none; text-align: center; padding: 2rem;">
            <p style="color: var(--accent1); font-family: 'Share Tech Mono', monospace;">
                ‚ùå ERRO AO CARREGAR DADOS
            </p>
            <button class="btn btn-primary" onclick="carregarDadosUsuario()">TENTAR NOVAMENTE</button>
        </div>

        <!-- Se√ß√£o de Informa√ß√µes Pessoais -->
        <section class="products-section" aria-labelledby="personal-info-title">
            <h2 id="personal-info-title" class="section-title">INFORMA√á√ïES PESSOAIS</h2>
            
            <div class="profile-card" style="background: var(--panel); padding: 2rem; border-radius: var(--radius); border: 1px solid var(--glass); max-width: 600px; margin: 0 auto;">
                <form id="profileForm">
                    <div id="form-message" style="display: none; margin-bottom: 1rem; padding: 0.75rem; border-radius: var(--radius); text-align: center; font-family: 'Share Tech Mono', monospace;"></div>

                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="nome" style="display: block; margin-bottom: 0.5rem; color: var(--accent3); font-family: 'Share Tech Mono', monospace;">NOME COMPLETO</label>
                        <input type="text" id="nome" style="width: 100%; padding: 0.75rem; border: 1px solid var(--muted); border-radius: var(--radius); background: var(--bg-2); color: white; font-family: 'Share Tech Mono', monospace;" required>
                    </div>

                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="email" style="display: block; margin-bottom: 0.5rem; color: var(--accent3); font-family: 'Share Tech Mono', monospace;">EMAIL</label>
                        <input type="email" id="email" style="width: 100%; padding: 0.75rem; border: 1px solid var(--muted); border-radius: var(--radius); background: var(--bg-2); color: white; font-family: 'Share Tech Mono', monospace;" required>
                    </div>

                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="cpf" style="display: block; margin-bottom: 0.5rem; color: var(--accent3); font-family: 'Share Tech Mono', monospace;">CPF</label>
                        <input type="text" id="cpf" style="width: 100%; padding: 0.75rem; border: 1px solid var(--muted); border-radius: var(--radius); background: var(--bg-3); color: var(--muted); font-family: 'Share Tech Mono', monospace;" disabled>
                    </div>

                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="telefone" style="display: block; margin-bottom: 0.5rem; color: var(--accent3); font-family: 'Share Tech Mono', monospace;">TELEFONE</label>
                        <input type="tel" id="telefone" style="width: 100%; padding: 0.75rem; border: 1px solid var(--muted); border-radius: var(--radius); background: var(--bg-2); color: white; font-family: 'Share Tech Mono', monospace;">
                    </div>

                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: center;">
                        <button type="submit" class="btn btn-primary">SALVAR ALTERA√á√ïES</button>
                        <button type="button" class="btn btn-secondary" onclick="carregarDadosUsuario()">CANCELAR</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Se√ß√£o de A√ß√µes da Conta -->
        <section class="products-section" aria-labelledby="account-actions-title">
            <h2 id="account-actions-title" class="section-title">A√á√ïES DA CONTA</h2>
            
            <div class="profile-actions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; max-width: 600px; margin: 0 auto;">
                <button class="action-card" onclick="alterarSenha()" style="background: var(--panel); border: 1px solid var(--glass); border-radius: var(--radius); padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üîí</div>
                    <h3 style="color: var(--accent3); margin-bottom: 0.5rem;">ALTERAR SENHA</h3>
                    <p style="color: var(--muted); font-size: 0.9rem;">Atualize sua senha de acesso</p>
                </button>

                <button class="action-card" onclick="verMeusPedidos()" style="background: var(--panel); border: 1px solid var(--glass); border-radius: var(--radius); padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì¶</div>
                    <h3 style="color: var(--accent3); margin-bottom: 0.5rem;">MEUS PEDIDOS</h3>
                    <p style="color: var(--muted); font-size: 0.9rem;">Visualize seu hist√≥rico</p>
                </button>

                <button class="action-card" onclick="exportarDados()" style="background: var(--panel); border: 1px solid var(--glass); border-radius: var(--radius); padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üíæ</div>
                    <h3 style="color: var(--accent3); margin-bottom: 0.5rem;">EXPORTAR DADOS</h3>
                    <p style="color: var(--muted); font-size: 0.9rem;">Baixe suas informa√ß√µes</p>
                </button>

                <button class="action-card" onclick="excluirConta()" style="background: var(--panel); border: 1px solid var(--accent1); border-radius: var(--radius); padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üóëÔ∏è</div>
                    <h3 style="color: var(--accent1); margin-bottom: 0.5rem;">EXCLUIR CONTA</h3>
                    <p style="color: var(--muted); font-size: 0.9rem;">Remover conta permanentemente</p>
                </button>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Glowered Store</h3>
                <p>Sua loja de roupas e acess√≥rios premium.</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Glowered Store. Todos os direitos reservados.</p>
        </div>
    </footer>
</body>

</html>